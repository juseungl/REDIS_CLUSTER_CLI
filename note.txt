python3 -m venv venv
source venv/bin/activate

chmod +x rcctl

redis-cli -c -h 127.0.0.1 -p 9001 --pass lineplus dbsize
redis-cli -c -h 127.0.0.1 -p 9002 --pass lineplus dbsize
redis-cli -c -h 127.0.0.1 -p 9008 --pass lineplus dbsize

for port in {9001..9008}; do
  redis-server config/redis-${port}.conf &
done

redis-server config/redis-9001.conf &
redis-server config/redis-9002.conf &
redis-server config/redis-9003.conf &
redis-server config/redis-9004.conf &
redis-server config/redis-9005.conf &
redis-server config/redis-9006.conf &
redis-server config/redis-9007.conf &
redis-server config/redis-9008.conf &

for port in {9001..9008}; do
  redis-cli -p ${port} -a lineplus shutdown
done

ps aux | grep redis


./rcctl help

./rcctl --password lineplus check 127.0.0.1:9001

./rcctl --password lineplus create --replicas 1 127.0.0.1:9001 127.0.0.1:9002 127.0.0.1:9003 127.0.0.1:9004 127.0.0.1:9005 127.0.0.1:9006

./rcctl --password lineplus populate-test-data --num-of-keys 100000 127.0.0.1:9001

./rcctl --password lineplus add-node 127.0.0.1:9007 127.0.0.1:9001
./rcctl --password lineplus add-node --master-id a1bda750280ad02962a832322f1347713bf4c26e 127.0.0.1:9008 127.0.0.1:9001

./rcctl --password lineplus reshard --from b5496a5c9dfdcd9b4a752a59b0178165015f2dc9 --to a1bda750280ad02962a832322f1347713bf4c26e --slots 1000 --pipeline 20 127.0.0.1:9001
./rcctl --password lineplus reshard --from a1bda750280ad02962a832322f1347713bf4c26e --to b5496a5c9dfdcd9b4a752a59b0178165015f2dc9 --slots 1000 --pipeline 20 127.0.0.1:9001


./rcctl --password lineplus del-node 127.0.0.1:9001 8aef223249448e3fae177d4e1c91260c168081e9